# âœ… TODO TREE â€” ESP32 Firmware

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1ï¸âƒ£ NVS STORAGE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [x] TODO [core] Init NVS trong `app_main() or app_runtime_init()`
- [x] TODO [nvs] Viáº¿t `nvs_wifi_get(ssid, pass)` vÃ  `nvs_wifi_set(ssid, pass)`
- [ ] TODO [nvs] Unit test: set â†’ get â†’ compare

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2ï¸âƒ£ WIFI_CONNECT (STA mode)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [x] TODO [api] ThÃªm hÃ m `wifi_conn_set_ssid_password(const char* ssid, const char* pass)`
- [x] TODO [api] ThÃªm chá»©c nÄƒng wifi_connect_start_from_nvs
- [x] TODO [event] ÄÄƒng kÃ½ event handler cho `WIFI_EVENT` vÃ  `IP_EVENT`
- [ ] TODO [retry] ThÃªm cÆ¡ cháº¿ retry + backoff khi connect tháº¥t báº¡i
- [ ] TODO [log] In SSID (áº©n password) + RSSI khi connect thÃ nh cÃ´ng
- [ ] TODO [test] Test SSID sai / router off/on
- [ ] TODO [pmf] ThÃªm option báº­t/táº¯t PMF/WPA3 qua `Kconfig`

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3ï¸âƒ£ WIFI_CONFIG_AP (SoftAP + Web Server cáº¥u hÃ¬nh Wi-Fi)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [x] TODO [api] Viáº¿t `wifi_config_ap_start()` vÃ  `wifi_config_ap_stop()`
- [x] TODO [ap] Táº¡o SoftAP: SSID `ESP_Config_AP`, pass `12345678`, channel cá»‘ Ä‘á»‹nh
- [x] TODO [ip] Cáº¥u hÃ¬nh DHCP server (IP 192.168.4.1)
- [x] TODO [http] Khá»Ÿi táº¡o `esp_http_server`
  - [x] TODO [route] `GET /` tráº£ vá» form HTML nháº­p SSID/PASS
  - [x] TODO [route] `POST /save` nháº­n form, parse `ssid`, `pass`
  - [x] TODO [nvs] LÆ°u thÃ´ng tin vÃ o NVS
  - [x] TODO [flow] Tráº£ â€œSaved, rebootingâ€¦â€ rá»“i gá»i `esp_restart()`
- [ ] TODO [timeout] Tá»± táº¯t AP sau 5 phÃºt náº¿u khÃ´ng cÃ³ client
- [ ] TODO [test] Káº¿t ná»‘i tá»« Ä‘iá»‡n thoáº¡i â†’ má»Ÿ `192.168.4.1` â†’ nháº­p Wi-Fi â†’ kiá»ƒm tra lÆ°u thÃ nh cÃ´ng

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4ï¸âƒ£ APP FLOW (chuyá»ƒn giá»¯a AP vÃ  STA)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [x] TODO [flow] Trong `app_runtime_init()`:
  - [x] Náº¿u cÃ³ SSID/PASS trong NVS â†’ `wifi_connect_start_from_nvs()`
  - [x] Náº¿u khÃ´ng cÃ³ â†’ `wifi_connect_start_from_menuconfig()`
  - [x] Náº¿u khÃ´ng cÃ³ â†’ `wifi_config_ap_start()`
- [ ] TODO [fallback] STA fail N láº§n â†’ báº­t láº¡i `wifi_config_ap_start()`
- [ ] TODO [ui] OLED hiá»ƒn thá»‹ â€œAP MODE / CONNECTING / CONNECTED IP: x.x.x.xâ€

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5ï¸âƒ£ OLED DISPLAY
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [ ] TODO [ui] Viáº¿t `oled_show_status(const char* line1, const char* line2)`
- [ ] TODO [bind] Cáº­p nháº­t tá»« event Wi-Fi/IP
- [ ] TODO [test] Hiá»ƒn thá»‹ Ä‘Ãºng tráº¡ng thÃ¡i AP/STA/DHT11

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6ï¸âƒ£ DHT11 SENSOR
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [x] TODO [read] Task Ä‘á»c sensor má»—i 2â€“5s
- [x] TODO [update] Cáº­p nháº­t dá»¯ liá»‡u lÃªn OLED
- [ ] TODO [sync] Gá»­i dá»¯ liá»‡u cho Web server (náº¿u Ä‘ang á»Ÿ AP mode)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 7ï¸âƒ£ CONFIG & BUILD SYSTEM
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [x] TODO [kconfig] ThÃªm `Kconfig` cho:
  - [x] AP SSID/PASS máº·c Ä‘á»‹nh
  - [x] AP Channel
  - [x] STA retry count
  - [ ] Enable PMF/WPA3
- [x] TODO [cmake] Cáº¥u hÃ¬nh dependencies:
  - [x] `wifi_connect`: `esp_wifi`, `esp_event`, `nvs_flash`
  - [x] `wifi_config_ap`: `esp_wifi`, `esp_event`, `esp_http_server`, `nvs_flash`
  - [x] `i2c_oled_display`: `esp_lcd`, `lvgl`

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 8ï¸âƒ£ SECURITY & STABILITY
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [ ] TODO [secure] áº¨n password trong log
- [ ] TODO [timeout] Tá»± táº¯t AP náº¿u khÃ´ng cáº¥u hÃ¬nh sau X phÃºt
- [ ] TODO [watchdog] Kiá»ƒm tra WDT cá»§a LVGL/HTTP task
- [ ] TODO [mem] Kiá»ƒm tra malloc fail â†’ xá»­ lÃ½ graceful

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 9ï¸âƒ£ TEST CASES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [ ] TEST Config Wi-Fi thÃ nh cÃ´ng â†’ reboot â†’ tá»± káº¿t ná»‘i
- [ ] TEST Nháº­p sai password â†’ STA fail â†’ báº­t láº¡i AP
- [ ] TEST XÃ³a NVS (factory reset) â†’ báº­t AP
- [ ] TEST Nhiá»…u Wi-Fi â†’ Ä‘á»•i channel AP
- [ ] TEST OLED hiá»ƒn thá»‹ Ä‘Ãºng trong má»i tráº¡ng thÃ¡i

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ğŸ”Ÿ EXTENSION (tÃ¹y chá»n)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- [ ] TODO [api] ThÃªm route `GET /status.json` tráº£ JSON `{temp, hum, wifi_state}`
- [ ] TODO [future] ThÃªm MQTT client sau khi Wi-Fi á»•n Ä‘á»‹nh
